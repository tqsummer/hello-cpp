# 变量和数据类型

## 变量

常量：程序运行中不能改变的量

* 整型常量： 1、200
* 字符常量： 'A'
* 字符串常量："ABC"
* 浮点型常量：3.14

变量：程序运行中可以被改变的量，存在于内存中  
变量需要定义：  
定义：在内存中开辟空间，告诉编译器有这个变量（声明）

变量的定义形式：  
数据类型 变量名

* int 4字节
* short 2字节
* long windows中 4字节、linux 32位4字节；64位8字节
* char 1字节
* float 4字节
* double 8字节

extern short SUM //声明变量SUM，并没有开辟空间，不能进行赋值操作，告诉编译器有这个变量（可能在其他文件中定义了）

### const

const修饰的变量，不能通过变量名进行修改内容

## 进制

* 二进制(BIN)：逢二进一
* 八进制(OCT)：逢八进一
* 十进制(DEC)：逢十进一
* 十六进制(HEX)：逢十六进一

| 进制   | 规则    | 缩写  | 数字区间    | 书写             |
|------|-------|-----|---------|----------------|
| 二进制  | 逢二进一  | BIN | 0,1     | 不支持            |
| 八进制  | 逢八进一  | OCT | 0~7     | 以0开头，例0123     | 
| 十进制  | 逢十进一  | DEC | 0~9     | 正常数字           | 
| 十六进制 | 逢十六进一 | HEX | 0~9,a-f | 以0x或0X开头，例0X2A |

<strong>C语言中不可以书写二进制</strong>

### 八进制数、十进制数和十六进制数的输出

|      | short       | 	int      | 	long       |
|------|-------------|-----------|-------------|
| 八进制  | 	%ho        | 	%o       | 	%lo        |
| 十进制  | 	%hd        | 	%d       | 	%ld        |
| 十六进制 | 	%hx 或者 %hX | 	%x 或者 %X | 	%lx 或者 %lX |

```c
int a = 123;
int b = 056;
int c = 0xab;
printf("a=%d\n", a); //a=123
printf("b=%o,%#o\n", b, b); //b=56,056
printf("c=%x,%X,%#x,%#X", c, c, c, c); //c=ab,AB,0xab,0XAB

```

### 十进制转二进制

例：13

| 进制数 | 转换数 | 余数 | 说明    |
|-----|-----|----|-------|
| 2   | 17  |    | 开始除以2 |
| 2   | 6   | 1  | 得商6余1 | 
| 2   | 3   | 0  | 得商3余0 | 
| 2   | 1   | 1  | 得商1余1 | 
|     | 0   | 1  | 得商0余1 |

得到的结果余数需要倒序，下面的是高位，所以结果是：1101

### 二进制转十进制

| 1     | 0     | 1     | 0     | 1     | 1     |
|-------|-------|-------|-------|-------|-------|
| 1*2^5 | 0*2^4 | 1*2^3 | 0*2^2 | 1*2^1 | 1*2^0 |
| 32    | 0     | 8     | 0     | 2     | 1     |

结果是：32+0+8+0+2+1=43

### 八进制转二进制

因为八进制最大值是7，7可以用三位二进制表示，所以三个二进制表示一个八进制  
例0257,八进制257转二进制

| 2  | 5   | 7   |
|----|-----|-----|
| 10 | 101 | 111 |

结果就是：10101111

### 二进制转八进制

1101010101010101111  
001 101 010 101 010 101 111

| 001 | 101 | 010 | 101 | 010 | 101 | 111 |
|-----|-----|-----|-----|-----|-----|-----|
| 1   | 5   | 2   | 5   | 2   | 5   | 7   |

结果是：01525257

### 十进制转十六进制

例：123

| 进制数 | 转换数 | 余数    | 说明                 |
|-----|-----|-------|--------------------|
| 16  | 123 |       | 开始除以16             |
| 16  | 7   | 11(b) | 得商7余11,十六进制11用b来表示 |
|     | 0   | 7     | 得商0余7              |

得到的结果余数需要倒序，下面的是高位，所以结果是：7b

### 十六进制转十进制

例：0x27b

| 2      | 7      | b      |
|--------|--------|--------|
| 2*16^2 | 7*16^1 | b*16^0 |
| 512    | 112    | 11     |

结果是：512+112+11=635

### 十六进制转二进制

因为八进制最大值是15，15可以用四位二进制表示，所以四个二进制表示一个十六进制

例：0x27b

| 2  | 7    | b    |
|----|------|------|
| 10 | 0111 | 1011 |

结果就是：1001111011

### 二进制转十六进制

例：1001010111101  
0001 0010 1011 1101

| 0001 | 0010 | 1011  | 1101  |
|------|------|-------|-------|
| 1    | 2    | 11(b) | 13(d) |

结果是：0x12bd

### 十六进制转八进制

先转二进制，再二进制转八进制

### 八进制转十六进制

先转二进制，再二进制转十六进制

## 数据类型

作用：告诉编译器数据在内存中需要占用的空间

### 有符号数和无符号数

|                  | char         | short          | int , long int | long long , __int64) |
|------------------|--------------|----------------|----------------|----------------------|
| 位数               | 1字节(8位)      | 2字节(16位)       | 4字节(32位)       | 8字节(64位)             |
| signed (default) | 1符号位,7数据位    | 1符号位,15数据位     | 1符号位,31数据位     | 1符号位,63数据位           |
| unsigned         | 8数据位         | 16数据位          | 32数据位          | 64数据位                |
| signed 数范围       | -2^7 ~ 2^7-1 | -2^15 ~ 2^15-1 | -2^31 ~ 2^31-1 | -2^63 ~ 2^63-1       |
| unsigned 数范围     | 0 ~ 2^8-1    | 0 ~ 2^16-1     | 0 ~ 2^32-1     | 0 ~ 2^64-1           |

signed char num; # 有符号数 (默认有符号数)  
unsigned char num; # 无符号数

有符号：可以表示正数和负数  
无符号：只能表示正数

* signed char |符号位|数据位|数据位|数据位|数据位|数据位|数据位|数据位|    
  有符号char：第一位代表符号位，后面七位代表数据位  
  符号位：1代表负数，0代表正数
  例：10000001为-1，00001001为9
  数的范围
  > 负数：10000000 ~ 11111111 -> -0 ~ -127  
  > 正数：00000000 ~ 01111111 -> +0 ~ +127  
  > 规定：将-0表示成-128  (-2^7 ~ 2^7-1)
  > signed char的数值范围为：-128 ~ +127 ，共256个数

* unsigned char |数据位|数据位|数据位|数据位|数据位|数据位|数据位|数据位|  
  八位都是数据位  
  例：10000001为129，00001001为9
  > unsigned char数的范围:0 ~ 255 (0 ~ 2^8-1)

### 原码、反码、补码

|    | 正数     | 负数                     |
|----|--------|------------------------|
| 原码 | 不变(原码) | 原始二进制码                 |
| 反码 | 不变(原码) | 符号位不变，数据位取反(0->1,1->0) |
| 补码 | 不变(原码) | 反码+1                   |

为了保证负数计算的准确性，以及0状态的唯一性，所以计算机中有符号数存的是补码，正数的补码就是原码。

* 赋值时，赋的是十进制，给的是原码。如果赋值给的是八进制或十六进制给的是补码。
* 打印时，十进制打印要的是原码，如果是八进制或十六进制打印要的是补码。


* 注意
    1. 负数计算机中如果存原码，会导致两个问题，负数运算不正确，0的状态有两种(-0和+0)
    2. 负数计算机中如果存反码，负数运算结果正确，但是0的状态还是两种。
    3. 负数计算机中如果存补码，负数运算结果正确，0的状态只有一种，也正确。

原码：数原始的二进制码  
-0 ： 1000 0000  
+0 ： 0000 0000  
-1 ： 1000 0001  
+1 ： 0000 0001

1 + (-1) = ?  
0000 0001  
1000 0001  
1000 0010 = -2 计算不正确

反码：正数的反码不变，负数的反码(符号位不变，数据位取反)  
-0 ： 1111 1111  
+0 ： 0000 0000  
-1 ： 1111 1110  
+1 ： 0000 0001

1 + (-1) = ?
0000 0001
1111 1110
1111 1111 = -0

补码：正数的反码不变，负数的补码等于反码+1  
-0 ： 0000 0000  
+0 ： 0000 0000  
-1 ： 1111 1111  
+1 ： 0000 0001

-0 = 反码 + 1 = 1111 1111 + 1= 1 0000 0000 = 0000 0000 ->1溢出,所以得到的补码为 0000 0000   
-1 = 反码 + 1 = 1111 1110 + 1= 1111 1111

1 + (-1) = ?
0000 0001  
1111 1111  
1 0000 0000 = 0   (1溢出所以结果为0，计算正确，0状态正确)

#### 原码求补码

1. 原码
2. 反码(符号位不变，数据位取反)
3. 反码+1，得到补码

例：-23  
原码： 1001 0111  
反码： 1110 1000  
补码： 1110 1001

#### 补码求原码

1. 补码
2. 反码(符号位不变，数据位取反)
3. 反码+1，得到原码

例：补码为1110 1001

补码：1110 1001  
反码：1001 0110  
原码：1001 0111 = -23

计算机中存的负数都是补码。  
printf("num=%d\n",num)  -> num是负数，计算机存的是补码，现在%d需要打印的是十进制，十进制打印要的是原码，所以需要补码转成原码。

* 计算机中有符号数存的是补码，正数的补码就是原码

> char char1 = -111;
>> char1是负数，存计算机时，会转成补码存  
> > 原码：1110 1111  
> > 反码：1001 0000  
> > 补码：1001 0001  
> > 所以-111在计算机中存的是补码：1001 0001

> char char2 = 145;
>> char2是正数，存计算机时，会存补码，正数的补码就是原码  
> > 原码：1001 0001  
> > 补码：1001 0001  
> > 所以145在计算机中存的补码是：1001 0001

### 整数

#### 整数常用函数

scanf()：从键盘(标准输入)获取值，传值是变量地址
> int i1,i2   
> scanf("%d %d", &i1, &i2);  
> printf("input value : i1 = %d , i2 = %d \n", i1, i2);

sizeof():用来测数据类型的大小(字节数)，传值可以是变量也可以是类型
> char a;  
> printf("char len : %d\n", sizeof(a));  
> printf("char len : %d\n", sizeof(char));

* 其它函数可以查看

#### 整数打印输出

|     | short | 	int | 	long | long long |
|-----|-------|------|-------|-----------|
| 有符号 | 	%hd  | 	%d  | 	%ld  | %lld      |
| 无符号 | 	%ud  | 	%u  | 	%lu  | %llu      |


